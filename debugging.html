
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Debugging &#8212; Quantitative Economics with Python</title>
    
  <link rel="stylesheet" href="_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.bfb7730f9caf2ec0b46a44615585038c.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    
  <link rel="preload" as="script" href="_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Page Not Found" href="404.html" />
    <link rel="prev" title="More Language Features" href="python_advanced_features.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Quantitative Economics with Python</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="index_toc.html">
   Table of Contents
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="about_lectures.html">
   About Lectures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="index_learning_python.html">
   Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="index_python_scientific_libraries.html">
   The Scientific Libraries
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="index_advanced_python_programming.html">
   Advanced Python Programming
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="writing_good_code.html">
     Writing Good Code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_advanced_features.html">
     More Language Features
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Debugging
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="404.html">
   Page Not Found
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="search.html">
   Search
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   Lecture Status
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   Troubleshooting
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/debugging.md.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview">
   Overview
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Debugging
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-debug-magic">
     The
     <code class="docutils literal notranslate">
      <span class="pre">
       debug
      </span>
     </code>
     Magic
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-a-break-point">
     Setting a Break Point
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-useful-magics">
   Other Useful Magics
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div id="qe-notebook-header" align="right" style="text-align:right;">
        <a href="https://quantecon.org/" title="quantecon.org">
                <img style="width:250px;display:inline;" width="250px" src="https://assets.quantecon.org/img/qe-menubar-logo.svg" alt="QuantEcon">
        </a>
</div><div class="section" id="id1">
<h1><a class="toc-backref" href="#id3">Debugging</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<span id="index-0"></span><p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id3">Debugging</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id4">Overview</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id5">Debugging</a></p></li>
<li><p><a class="reference internal" href="#other-useful-magics" id="id6">Other Useful Magics</a></p></li>
</ul>
</li>
</ul>
</div>
<blockquote class="epigraph">
<div><p>“Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are, by definition,
not smart enough to debug it.” – Brian Kernighan</p>
</div></blockquote>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id4">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Are you one of those programmers who fills their code with <code class="docutils literal notranslate"><span class="pre">print</span></code> statements when trying to debug their programs?</p>
<p>Hey, we all used to do that.</p>
<p>(OK, sometimes we still do that…)</p>
<p>But once you start writing larger programs you’ll need a better system.</p>
<p>Debugging tools for Python vary across platforms, IDEs and editors.</p>
<p>Here we’ll focus on Jupyter and leave you to explore other settings.</p>
<p>We’ll need the following imports</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id5">Debugging</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-debug-magic">
<span id="index-1"></span><h3>The <code class="docutils literal notranslate"><span class="pre">debug</span></code> Magic<a class="headerlink" href="#the-debug-magic" title="Permalink to this headline">¶</a></h3>
<p>Let’s consider a simple (and rather contrived) example</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-2-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="_images/debugging_3_1.png" src="_images/debugging_3_1.png" />
</div>
</div>
<p>This code is intended to plot the <code class="docutils literal notranslate"><span class="pre">log</span></code> function over the interval <span class="math notranslate nohighlight">\([1, 2]\)</span>.</p>
<p>But there’s an error here: <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> should be just <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>.</p>
<p>(The call <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> returns a NumPy array containing two axes objects, suitable for having two subplots on the same figure)</p>
<p>The traceback shows that the error occurs at the method call <code class="docutils literal notranslate"><span class="pre">ax.plot(x,</span> <span class="pre">np.log(x))</span></code>.</p>
<p>The error occurs because we have mistakenly made <code class="docutils literal notranslate"><span class="pre">ax</span></code> a NumPy array, and a NumPy array has no <code class="docutils literal notranslate"><span class="pre">plot</span></code> method.</p>
<p>But let’s pretend that we don’t understand this for the moment.</p>
<p>We might suspect there’s something wrong with <code class="docutils literal notranslate"><span class="pre">ax</span></code> but when we try to investigate this object, we get the following exception:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">b00e77935981</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ax</span>

<span class="ne">NameError</span>: name &#39;ax&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>The problem is that <code class="docutils literal notranslate"><span class="pre">ax</span></code> was defined inside <code class="docutils literal notranslate"><span class="pre">plot_log()</span></code>, and the name is
lost once that function terminates.</p>
<p>Let’s try doing it a different way.</p>
<p>We run the first cell block again, generating the same error</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-4-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="_images/debugging_7_1.png" src="_images/debugging_7_1.png" />
</div>
</div>
<p>But this time we type in the following cell block</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">debug</span>
</pre></div>
</div>
<p>You should be dropped into a new prompt that looks something like this</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>(You might see pdb&gt; instead)</p>
<p>Now we can investigate the value of our variables at this point in the program, step forward through the code, etc.</p>
<p>For example, here we simply type the name <code class="docutils literal notranslate"><span class="pre">ax</span></code> to see what’s happening with
this object:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">ax</span>
<span class="n">array</span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x290f5d0</span><span class="o">&gt;</span><span class="p">,</span>
       <span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x2930810</span><span class="o">&gt;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>It’s now very clear that <code class="docutils literal notranslate"><span class="pre">ax</span></code> is an array, which clarifies the source of the
problem.</p>
<p>To find out what else you can do from inside <code class="docutils literal notranslate"><span class="pre">ipdb</span></code> (or <code class="docutils literal notranslate"><span class="pre">pdb</span></code>), use the
online help</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">h</span>

<span class="n">Documented</span> <span class="n">commands</span> <span class="p">(</span><span class="nb">type</span> <span class="n">help</span> <span class="o">&lt;</span><span class="n">topic</span><span class="o">&gt;</span><span class="p">):</span>
<span class="o">========================================</span>
<span class="n">EOF</span>    <span class="n">bt</span>         <span class="n">cont</span>      <span class="n">enable</span>  <span class="n">jump</span>  <span class="n">pdef</span>   <span class="n">r</span>        <span class="n">tbreak</span>   <span class="n">w</span>
<span class="n">a</span>      <span class="n">c</span>          <span class="k">continue</span>  <span class="n">exit</span>    <span class="n">l</span>     <span class="n">pdoc</span>   <span class="n">restart</span>  <span class="n">u</span>        <span class="n">whatis</span>
<span class="n">alias</span>  <span class="n">cl</span>         <span class="n">d</span>         <span class="n">h</span>       <span class="nb">list</span>  <span class="n">pinfo</span>  <span class="k">return</span>   <span class="n">unalias</span>  <span class="n">where</span>
<span class="n">args</span>   <span class="n">clear</span>      <span class="n">debug</span>     <span class="n">help</span>    <span class="n">n</span>     <span class="n">pp</span>     <span class="n">run</span>      <span class="n">unt</span>
<span class="n">b</span>      <span class="n">commands</span>   <span class="n">disable</span>   <span class="n">ignore</span>  <span class="nb">next</span>  <span class="n">q</span>      <span class="n">s</span>        <span class="n">until</span>
<span class="k">break</span>  <span class="n">condition</span>  <span class="n">down</span>      <span class="n">j</span>       <span class="n">p</span>     <span class="n">quit</span>   <span class="n">step</span>     <span class="n">up</span>

<span class="n">Miscellaneous</span> <span class="n">help</span> <span class="n">topics</span><span class="p">:</span>
<span class="o">==========================</span>
<span class="n">exec</span>  <span class="n">pdb</span>

<span class="n">Undocumented</span> <span class="n">commands</span><span class="p">:</span>
<span class="o">======================</span>
<span class="n">retval</span>  <span class="n">rv</span>

<span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">h</span> <span class="n">c</span>
<span class="n">c</span><span class="p">(</span><span class="n">ont</span><span class="p">(</span><span class="n">inue</span><span class="p">))</span>
<span class="n">Continue</span> <span class="n">execution</span><span class="p">,</span> <span class="n">only</span> <span class="n">stop</span> <span class="n">when</span> <span class="n">a</span> <span class="n">breakpoint</span> <span class="ow">is</span> <span class="n">encountered</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-a-break-point">
<h3>Setting a Break Point<a class="headerlink" href="#setting-a-break-point" title="Permalink to this headline">¶</a></h3>
<p>The preceding approach is handy but sometimes insufficient.</p>
<p>Consider the following modified version of our function above</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/debugging_9_0.png" src="_images/debugging_9_0.png" />
</div>
</div>
<p>Here the original problem is fixed, but we’ve accidentally written
<code class="docutils literal notranslate"><span class="pre">np.logspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">np.linspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code>.</p>
<p>Now there won’t be any exception, but the plot won’t look right.</p>
<p>To investigate, it would be helpful if we could inspect variables like <code class="docutils literal notranslate"><span class="pre">x</span></code> during execution of the function.</p>
<p>To this end, we add a “break point” by inserting  <code class="docutils literal notranslate"><span class="pre">breakpoint()</span></code> inside the function code block</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">breakpoint</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let’s run the script, and investigate via the debugger</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">n</span>
<span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">n</span>
<span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">x</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">10.</span>        <span class="p">,</span>  <span class="mf">12.91549665</span><span class="p">,</span>  <span class="mf">16.68100537</span><span class="p">,</span>  <span class="mf">21.5443469</span> <span class="p">,</span>
        <span class="mf">27.82559402</span><span class="p">,</span>  <span class="mf">35.93813664</span><span class="p">,</span>  <span class="mf">46.41588834</span><span class="p">,</span>  <span class="mf">59.94842503</span><span class="p">,</span>
        <span class="mf">77.42636827</span><span class="p">,</span> <span class="mf">100.</span>        <span class="p">])</span>
</pre></div>
</div>
<p>We used <code class="docutils literal notranslate"><span class="pre">n</span></code> twice to step forward through the code (one line at a time).</p>
<p>Then we printed the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to see what was happening with that variable.</p>
<p>To exit from the debugger, use <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
</div>
</div>
<div class="section" id="other-useful-magics">
<h2><a class="toc-backref" href="#id6">Other Useful Magics</a><a class="headerlink" href="#other-useful-magics" title="Permalink to this headline">¶</a></h2>
<p>In this lecture, we used the <code class="docutils literal notranslate"><span class="pre">%debug</span></code> IPython magic.</p>
<p>There are many other useful magics:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%precision</span> <span class="pre">4</span></code> sets printed precision for floats to 4 decimal places</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%whos</span></code> gives a list of variables and their values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%quickref</span></code> gives a list of magics</p></li>
</ul>
<p>The full list of magics is <a class="reference external" href="http://ipython.readthedocs.org/en/stable/interactive/magics.html">here</a>.</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="python_advanced_features.html" title="previous page">More Language Features</a>
    <a class='right-next' id="next-link" href="404.html" title="next page">Page Not Found</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Thomas J. Sargent and John Stachurski<br/>
        
            &copy; Copyright 2019, Thomas J. Sargent and John Stachurski.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.30270b6e4c972e43c488.js"></script>


    
  </body>
</html>