
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>17. Debugging &#8212; Python Programming for Economics and Finance</title>
    <link rel="stylesheet" href="_static/quantecon-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/quantecon-book-theme.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/quantecon-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://python.quantecon.org/debugging.html" />
    <link rel="shortcut icon" href="_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="18. Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="16. More Language Features" href="python_advanced_features.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="Debugging"/>
<meta name="twitter:description" content="This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="Debugging" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://python.quantecon.org/debugging.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents a set of lectures on python programming for economics, designed and written by Thomas J. Sargent and John Stachurski." />
<meta property="og:site_name" content="Python Programming for Economics and Finance" />

<meta name="theme-color" content="#ffffff" />


  </head>
<body>


    <span id="top"></span>

    <div class="wrapper">

        <div class="main">

            <div class="page">

                <div class="page__toc">

                    <div class="inner">

                        
                        <div class="page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="page__toc-nav">

                            <ul class="nav section-nav flex-column">
                                
                                <li class="nav-item toc-entry toc-h2">
                                    <a href="#overview" class="nav-link">Overview</a>
                                </li>
                                
                                <li class="nav-item toc-entry toc-h2">
                                    <a href="#id2" class="nav-link">Debugging</a><ul class="nav section-nav flex-column">
                                        
                                <li class="nav-item toc-entry toc-h3">
                                    <a href="#the-debug-magic" class="nav-link">The debug Magic</a>
                                </li>
                                
                                <li class="nav-item toc-entry toc-h3">
                                    <a href="#setting-a-break-point" class="nav-link">Setting a Break Point</a>
                                </li>
                                
                                    </ul>
                                </li>
                                
                                <li class="nav-item toc-entry toc-h2">
                                    <a href="#other-useful-magics" class="nav-link">Other Useful Magics</a>
                                </li>
                                
                            </ul>

                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo.png" class="logo" alt="logo"></a>
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="page__header">

                    <div class="page__header-copy">

                        <p class="page__header-heading"><a href="intro.html">Python Programming for Economics and Finance</a></p>

                        <p class="page__header-subheading">Debugging</p>

                    </div>

                    <p class="page__header-authors">Thomas J. Sargent & John Stachurski</p>

                </div> <!-- .page__header -->



                
                <main class="page__content" role="main">
                    
                    <div>
                        
  <div class="section" id="id1">
<h1><a class="toc-backref" href="#id3"><span class="section-number">17. </span>Debugging</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<span id="index-0"></span><p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id3">Debugging</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id4">Overview</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id5">Debugging</a></p></li>
<li><p><a class="reference internal" href="#other-useful-magics" id="id6">Other Useful Magics</a></p></li>
</ul>
</li>
</ul>
</div>
<blockquote class="epigraph">
<div><p>“Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are, by definition,
not smart enough to debug it.” – Brian Kernighan</p>
</div></blockquote>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id4"><span class="section-number">17.1. </span>Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Are you one of those programmers who fills their code with <code class="docutils literal notranslate"><span class="pre">print</span></code> statements when trying to debug their programs?</p>
<p>Hey, we all used to do that.</p>
<p>(OK, sometimes we still do that…)</p>
<p>But once you start writing larger programs you’ll need a better system.</p>
<p>Debugging tools for Python vary across platforms, IDEs and editors.</p>
<p>Here we’ll focus on Jupyter and leave you to explore other settings.</p>
<p>We’ll need the following imports</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id5"><span class="section-number">17.2. </span>Debugging</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-debug-magic">
<span id="index-1"></span><h3><span class="section-number">17.2.1. </span>The <code class="docutils literal notranslate"><span class="pre">debug</span></code> Magic<a class="headerlink" href="#the-debug-magic" title="Permalink to this headline">¶</a></h3>
<p>Let’s consider a simple (and rather contrived) example</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-2-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="_images/debugging_3_1.png" src="_images/debugging_3_1.png" />
</div>
</div>
<p>This code is intended to plot the <code class="docutils literal notranslate"><span class="pre">log</span></code> function over the interval <span class="math notranslate nohighlight">\([1, 2]\)</span>.</p>
<p>But there’s an error here: <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> should be just <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>.</p>
<p>(The call <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> returns a NumPy array containing two axes objects, suitable for having two subplots on the same figure)</p>
<p>The traceback shows that the error occurs at the method call <code class="docutils literal notranslate"><span class="pre">ax.plot(x,</span> <span class="pre">np.log(x))</span></code>.</p>
<p>The error occurs because we have mistakenly made <code class="docutils literal notranslate"><span class="pre">ax</span></code> a NumPy array, and a NumPy array has no <code class="docutils literal notranslate"><span class="pre">plot</span></code> method.</p>
<p>But let’s pretend that we don’t understand this for the moment.</p>
<p>We might suspect there’s something wrong with <code class="docutils literal notranslate"><span class="pre">ax</span></code> but when we try to investigate this object, we get the following exception:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">b00e77935981</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ax</span>

<span class="ne">NameError</span>: name &#39;ax&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>The problem is that <code class="docutils literal notranslate"><span class="pre">ax</span></code> was defined inside <code class="docutils literal notranslate"><span class="pre">plot_log()</span></code>, and the name is
lost once that function terminates.</p>
<p>Let’s try doing it a different way.</p>
<p>We run the first cell block again, generating the same error</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-4-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="_images/debugging_7_1.png" src="_images/debugging_7_1.png" />
</div>
</div>
<p>But this time we type in the following cell block</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">debug</span>
</pre></div>
</div>
<p>You should be dropped into a new prompt that looks something like this</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>(You might see pdb&gt; instead)</p>
<p>Now we can investigate the value of our variables at this point in the program, step forward through the code, etc.</p>
<p>For example, here we simply type the name <code class="docutils literal notranslate"><span class="pre">ax</span></code> to see what’s happening with
this object:</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">ax</span>
<span class="n">array</span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x290f5d0</span><span class="o">&gt;</span><span class="p">,</span>
       <span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x2930810</span><span class="o">&gt;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>It’s now very clear that <code class="docutils literal notranslate"><span class="pre">ax</span></code> is an array, which clarifies the source of the
problem.</p>
<p>To find out what else you can do from inside <code class="docutils literal notranslate"><span class="pre">ipdb</span></code> (or <code class="docutils literal notranslate"><span class="pre">pdb</span></code>), use the
online help</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">h</span>

<span class="n">Documented</span> <span class="n">commands</span> <span class="p">(</span><span class="nb">type</span> <span class="n">help</span> <span class="o">&lt;</span><span class="n">topic</span><span class="o">&gt;</span><span class="p">):</span>
<span class="o">========================================</span>
<span class="n">EOF</span>    <span class="n">bt</span>         <span class="n">cont</span>      <span class="n">enable</span>  <span class="n">jump</span>  <span class="n">pdef</span>   <span class="n">r</span>        <span class="n">tbreak</span>   <span class="n">w</span>
<span class="n">a</span>      <span class="n">c</span>          <span class="k">continue</span>  <span class="n">exit</span>    <span class="n">l</span>     <span class="n">pdoc</span>   <span class="n">restart</span>  <span class="n">u</span>        <span class="n">whatis</span>
<span class="n">alias</span>  <span class="n">cl</span>         <span class="n">d</span>         <span class="n">h</span>       <span class="nb">list</span>  <span class="n">pinfo</span>  <span class="k">return</span>   <span class="n">unalias</span>  <span class="n">where</span>
<span class="n">args</span>   <span class="n">clear</span>      <span class="n">debug</span>     <span class="n">help</span>    <span class="n">n</span>     <span class="n">pp</span>     <span class="n">run</span>      <span class="n">unt</span>
<span class="n">b</span>      <span class="n">commands</span>   <span class="n">disable</span>   <span class="n">ignore</span>  <span class="nb">next</span>  <span class="n">q</span>      <span class="n">s</span>        <span class="n">until</span>
<span class="k">break</span>  <span class="n">condition</span>  <span class="n">down</span>      <span class="n">j</span>       <span class="n">p</span>     <span class="n">quit</span>   <span class="n">step</span>     <span class="n">up</span>

<span class="n">Miscellaneous</span> <span class="n">help</span> <span class="n">topics</span><span class="p">:</span>
<span class="o">==========================</span>
<span class="n">exec</span>  <span class="n">pdb</span>

<span class="n">Undocumented</span> <span class="n">commands</span><span class="p">:</span>
<span class="o">======================</span>
<span class="n">retval</span>  <span class="n">rv</span>

<span class="n">ipdb</span><span class="o">&gt;</span> <span class="n">h</span> <span class="n">c</span>
<span class="n">c</span><span class="p">(</span><span class="n">ont</span><span class="p">(</span><span class="n">inue</span><span class="p">))</span>
<span class="n">Continue</span> <span class="n">execution</span><span class="p">,</span> <span class="n">only</span> <span class="n">stop</span> <span class="n">when</span> <span class="n">a</span> <span class="n">breakpoint</span> <span class="ow">is</span> <span class="n">encountered</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-a-break-point">
<h3><span class="section-number">17.2.2. </span>Setting a Break Point<a class="headerlink" href="#setting-a-break-point" title="Permalink to this headline">¶</a></h3>
<p>The preceding approach is handy but sometimes insufficient.</p>
<p>Consider the following modified version of our function above</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/debugging_9_0.png" src="_images/debugging_9_0.png" />
</div>
</div>
<p>Here the original problem is fixed, but we’ve accidentally written
<code class="docutils literal notranslate"><span class="pre">np.logspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">np.linspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code>.</p>
<p>Now there won’t be any exception, but the plot won’t look right.</p>
<p>To investigate, it would be helpful if we could inspect variables like <code class="docutils literal notranslate"><span class="pre">x</span></code> during execution of the function.</p>
<p>To this end, we add a “break point” by inserting  <code class="docutils literal notranslate"><span class="pre">breakpoint()</span></code> inside the function code block</p>
<div class="no-execute highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">breakpoint</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let’s run the script, and investigate via the debugger</p>
<div class="no-execute highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">n</span>
<span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">n</span>
<span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">a188074383b7</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="n">plot_log</span><span class="p">()</span>
<span class="o">-&gt;</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="p">(</span><span class="n">Pdb</span><span class="p">)</span> <span class="n">x</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">10.</span>        <span class="p">,</span>  <span class="mf">12.91549665</span><span class="p">,</span>  <span class="mf">16.68100537</span><span class="p">,</span>  <span class="mf">21.5443469</span> <span class="p">,</span>
        <span class="mf">27.82559402</span><span class="p">,</span>  <span class="mf">35.93813664</span><span class="p">,</span>  <span class="mf">46.41588834</span><span class="p">,</span>  <span class="mf">59.94842503</span><span class="p">,</span>
        <span class="mf">77.42636827</span><span class="p">,</span> <span class="mf">100.</span>        <span class="p">])</span>
</pre></div>
</div>
<p>We used <code class="docutils literal notranslate"><span class="pre">n</span></code> twice to step forward through the code (one line at a time).</p>
<p>Then we printed the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to see what was happening with that variable.</p>
<p>To exit from the debugger, use <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
</div>
</div>
<div class="section" id="other-useful-magics">
<h2><a class="toc-backref" href="#id6"><span class="section-number">17.3. </span>Other Useful Magics</a><a class="headerlink" href="#other-useful-magics" title="Permalink to this headline">¶</a></h2>
<p>In this lecture, we used the <code class="docutils literal notranslate"><span class="pre">%debug</span></code> IPython magic.</p>
<p>There are many other useful magics:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%precision</span> <span class="pre">4</span></code> sets printed precision for floats to 4 decimal places</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%whos</span></code> gives a list of variables and their values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%quickref</span></code> gives a list of magics</p></li>
</ul>
<p>The full list of magics is <a class="reference external" href="http://ipython.readthedocs.org/en/stable/interactive/magics.html">here</a>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            
            <div class="sidebar bd-sidebar inactive" id="site-navigation">

                <div class="sidebar__header">


                    Contents

                </div>

                <nav class="sidebar__nav" id="sidebar-nav" aria-label="Main navigation">
                    <p class="caption">
 <span class="caption-text">
  Introduction to Python
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="about_py.html">
   1. About Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   2. Setting up Your Python Environment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_by_example.html">
   3. An Introductory Example
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   4. Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_essentials.html">
   5. Python Essentials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oop_intro.html">
   6. OOP I: Introduction to Object Oriented Programming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_oop.html">
   7. OOP II: Building Classes
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Scientific Libraries
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="need_for_speed.html">
   8. Python for Scientific Computing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numpy.html">
   9. NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="matplotlib.html">
   10. Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scipy.html">
   11. SciPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numba.html">
   12. Numba
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="parallelization.html">
   13. Parallelization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pandas.html">
   14. Pandas
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Advanced Python Programming
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="writing_good_code.html">
   15. Writing Good Code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_advanced_features.html">
   16. More Language Features
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   17. Debugging
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   18. Troubleshooting
  </a>
 </li>
</ul>

                </nav>

                <div class="sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="toolbar">

            <div class="toolbar__inner">

                <ul class="toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                    <!-- <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off">
                            <i data-feather="search"></i>
                        </form>
                    </li> -->
                </ul>

                <ul class="toolbar__links">
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="_notebooks/debugging.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-programming.myst/tree/master/lecture-python-programming.myst/lectures/debugging.md" download><i data-feather="github"></i></a></li>
                </ul>

            </div>


        </div> <!-- .toolbar -->

    </div> <!-- .wrapper-->

<script src="_static/plugins.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>


    <script src=[></script>

    <script src=]></script>

<script src="_static/scripts.js"></script>
<script>
    feather.replace()
    tippy('[data-tippy-content]');
</script>


<script>
    window.ga = function () {
        ga.q.push(arguments);
    };
    ga.q = [];
    ga.l = +new Date();
    ga("create", "UA-54984338-9", "auto");
    ga("set", "anonymizeIp", true);
    ga("set", "transport", "beacon");
    ga("send", "pageview");
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>

  </body>
</html>